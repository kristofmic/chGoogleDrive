!function(a){var b;b=["ch.Vendor.Google"],a.module("ch.GoogleDrive",b)}(angular),function(a){function b(){function a(a,c){function d(){function d(){var a;a={client_id:b.clientId,scope:"https://www.googleapis.com/auth/drive.readonly",immediate:!1},c.auth.authorize(a,e)}function e(a){a&&!a.error?(accessToken=a.access_token,f.resolve(accessToken)):f.reject(a.error)}var f=a.defer();return c.auth?d():c.load("auth",{callback:d}),f.promise}return{authorize:d}}var b,c;return c=["$q","gapi",a],b.clientId="",b.$get=c,b}a.module("ch.GoogleDrive").provider("googleAuth",b)}(angular),function(a){function b(b,c){function d(d){function e(){function b(b){function c(a){return isGDoc?a.exportLinks["application/rtf"]:a.downloadUrl}function d(a){return isGDoc?a.title+".rtf":a.title}function e(a){return isGDoc?0:a.fileSize}var g;isGDoc=a.isUndefined(b.downloadUrl),g={link:c(b),name:d(b),size:e(b)},f.resolve(g)}c.client.drive.files.get({fileId:d}).execute(b)}var f=b.defer();return c.client.load("drive","v2",e),f.promise}return{getFile:d}}var c;c=["$q","gapi",b],a.module("ch.GoogleDrive").factory("googleDrive",c)}(angular),function(a){function b(a,b,c){function d(){function d(a){return g=a,b.loadPicker(a)}function e(a){return c.getFile(a.id)}function f(a){return a.link+="&access_token="+g,a}var g;return a.authorize().then(d).then(e).then(f)}return d()}var c;c=["googleAuth","googlePicker","googleDrive",b],a.module("ch.GoogleDrive").factory("googleDriveManager",c)}(angular),function(a){function b(a,b){function c(c){function d(){google&&google.picker?e(google.picker):f.reject("google.picker failed to load")}function e(a){function b(b){b[a.Response.ACTION]===a.Action.PICKED&&f.resolve(b[a.Response.DOCUMENTS][0])}var d=(new a.DocsView).setMode(a.DocsViewMode.LIST),e="application/rtf,application/msword,application/vnd.google-apps.document,application/pdf,text/plain,application/vnd.openxmlformats-officedocument.wordprocessingml.document";return(new a.PickerBuilder).enableFeature(a.Feature.NAV_HIDDEN).setSelectableMimeTypes(e).addView(d).setOAuthToken(c).setCallback(b).build().setVisible(!0)}var f=a.defer();return b.load("picker",{callback:d}),f.promise}return{load:c}}var c;c=["$q","gapi",b],a.module("ch.GoogleDrive").factory("googlePicker",c)}(angular),function(a){function b(a){return a.gapi}var c,d=[];c=["$window",b],a.module("ch.Vendor.Google",d).factory("gapi",c)}(angular);